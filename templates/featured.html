{% load static %}
<section class="w-full px-4 md:px-7 mt-16 mb-16">
  <div class="max-w-6xl mx-auto">
    <!-- Section Header -->
    <div class="text-center mb-12">
      <h2 class="text-3xl md:text-4xl font-bold text-headings font-heading mb-3">
        Featured Products
      </h2>
      <p class="text-gray-600 max-w-2xl mx-auto">
        Discover our most popular items loved by customers worldwide
      </p>
      <div class="w-20 h-1 bg-primary mx-auto mt-4 rounded-full"></div>
    </div>

    <!-- Featured Products Grid -->
    <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-5">
      {% for product in '1111' %}
      <div class="bg-white rounded-2xl overflow-hidden shadow-sm hover:shadow-lg transition-all duration-300 group">
        <!-- Product Image -->
        <div class="relative h-60 bg-gradient-to-b from-primary/50 to-white flex items-center justify-center p-4 overflow-hidden">
          <a href="{% url 'productDetail' %}">
            <div class="absolute inset-0 bg-gradient-to-t from-black/5 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"></div>
            <img
              src="{{ product.image.url }}"
              alt="{{ product.name }}"
              class="max-h-44 transform group-hover:scale-110 transition-transform duration-500"
            />
          </a>

          <!-- Badge -->
          {% if product.badge %}
          <div class="absolute top-4 left-4 bg-primary text-white text-xs font-bold px-3 py-1.5 rounded-full shadow-md">
            {{ product.badge }}
          </div>
          {% endif %}

          <!-- Action Buttons -->
          <div class="absolute top-4 right-4 flex flex-col space-y-2">
            <button
              class="w-9 h-9 rounded-full bg-white shadow-md flex items-center justify-center text-gray-500 hover:bg-primary hover:text-white transition-colors"
            >
              <i class="far fa-heart"></i>
            </button>
          </div>
        </div>

        <!-- Product Info -->
        <div class="p-5 border-t border-gray-100">
          <div class="flex justify-between items-start mb-2">
            <h3 class="font-semibold text-headings text-lg leading-tight">
              {{ product.name }}
            </h3>
            {% if product.discount %}
            <span class="text-green-600 text-sm font-medium bg-green-100 px-2 py-1 rounded-md ml-2 whitespace-nowrap">
              {{ product.discount }}% off
            </span>
            {% endif %}
          </div>

          <!-- Rating -->
          <div class="flex items-center mb-3">
            <div class="flex text-yellow-400 text-sm">
              {% for i in "12345" %}
                {% if forloop.counter <= product.rating %}
                  <i class="fas fa-star"></i>
                {% else %}
                  <i class="far fa-star"></i>
                {% endif %}
              {% endfor %}
            </div>
            <span class="text-xs text-gray-500 ml-2">({{ product.reviews_count|default:"0" }})</span>
          </div>

          <!-- Price -->
          <div class="flex items-center justify-between mt-4">
            <div>
              <span class="text-primary font-bold text-xl">{{ product.price }}</span>
              {% if product.old_price %}
              <span class="text-gray-500 line-through text-sm ml-2">{{ product.old_price }}</span>
              {% endif %}
            </div>

            <a
              href="{% url 'addToCart' %}"
              class="bg-primary text-white w-11 h-11 rounded-full flex items-center justify-center hover:bg-primary-dark add-to-cart"
              data-product="{{ product.name }}"
              data-price="{{ product.price }}"
            >
              <i class="fas fa-shopping-cart"></i>
            </a>
          </div>
        </div>
      </div>
      {% empty %}
      <p class="text-gray-600 col-span-full text-center">No featured products available.</p>
      {% endfor %}
    </div>

    <!-- View All Button -->
    <div class="text-center mt-12">
      <a
        href="{% url 'products' %}"
        class="inline-flex items-center justify-center px-6 py-3 border-2 border-primary text-primary font-semibold rounded-full hover:bg-primary hover:text-white transition-all duration-300 group"
      >
        <span>View All Products</span>
        <i class="fas fa-arrow-right ml-2 group-hover:translate-x-1 transition-transform"></i>
      </a>
    </div>
  </div>
</section>
